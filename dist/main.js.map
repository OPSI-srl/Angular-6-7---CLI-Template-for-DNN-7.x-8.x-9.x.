{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/Http/interceptor.ts","webpack:///./src/Service/DNN/context.service.ts","webpack:///./src/Service/DNN/dev-context.ts","webpack:///./src/Service/demo.service.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { Injectable } from '@angular/core';\r\nimport { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest } from '@angular/common/http';\r\nimport { Observable, Subject } from \"rxjs\";\r\nimport { Context } from \"../Service/DNN/context.service\";\r\nimport { take, mergeMap } from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class Interceptor implements HttpInterceptor {\r\n  constructor(private context: Context) { \r\n    context.autoConfigure();\r\n  }\r\n\r\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    return this.context.all$.pipe(take(10)).pipe(mergeMap(ctx => {\r\n      console.log('TCL: Interceptor -> ctx.antiForgeryToken -------------->', ctx.antiForgeryToken);\r\n      const newReq = req.clone({\r\n          setHeaders: {\r\n            ModuleId: this.context._moduleId.toString(),\r\n            TabId: ctx.tabId.toString(),\r\n            RequestVerificationToken: ctx.antiForgeryToken,\r\n            userid: this.context._userId,\r\n            'X-Debugging-Hint': 'bootstrapped by bbAngular, 2SXC, OPSI',\r\n          }\r\n        });\r\n\r\n        return next.handle(newReq);\r\n      }));\r\n  }\r\n}","import { ContextInfo } from './context-info';\r\nimport { DevContext as DevContext } from './dev-context';\r\nimport { ElementRef, Injectable, Optional } from '@angular/core';\r\nimport { Observable, combineLatest, from, timer } from 'rxjs';\r\nimport { ReplaySubject } from 'rxjs';\r\nimport { map, take } from 'rxjs/operators';\r\n\r\ndeclare const window: any;\r\n\r\n@Injectable({\r\n    providedIn: 'root',\r\n})\r\nexport class Context {\r\n    // todo: probably should set the replay-buffer to 1 for all the following, but must test!\r\n\r\n    // private cbIdSubject = new ReplaySubject<number>(1);\r\n    private tidSubject = new ReplaySubject<number>(1);\r\n    private afTokenSubject = new ReplaySubject<string>(1);\r\n    public _properties: any = {};\r\n    public _moduleId: string = \"\";\r\n    public _userId: string = \"\";\r\n\r\n    tabId$ = this.tidSubject.asObservable();\r\n    antiForgeryToken$ = this.afTokenSubject.asObservable();\r\n\r\n    all$ = combineLatest(\r\n        this.tabId$,                // wait for tabId\r\n        this.antiForgeryToken$)     // wait for security token\r\n        .pipe(map(res => <ContextInfo>{  // then merge streams\r\n            tabId: res[0],\r\n            antiForgeryToken: res[1]\r\n        }));\r\n\r\n    constructor(\r\n        @Optional() private devSettings: DevContext  \r\n    ) {\r\n        const MODULE = 'Angular6Demo';\r\n        // Dev settings with minimal ignore settings.\r\n        this.devSettings = Object.assign({}, {\r\n            ignoreMissing$2sxc: false,\r\n            ignoreMissingServicesFramework: false\r\n        }, devSettings);\r\n\r\n        \r\n        if (window && window[MODULE]) {\r\n            this._properties = window[MODULE];\r\n            console.log('​-----------------------------------------------------------------------');\r\n            console.log('​DnnContextService -> constructor -> this._properties', this._properties);\r\n            console.log('​-----------------------------------------------------------------------');\r\n        } else {\r\n            console.log('----------------------');\r\n            console.log('ERROR: Missing window[MODULE] for DNN');\r\n            console.log('----------------------');\r\n        }        \r\n    }\r\n\r\n    autoConfigure() {\r\n        this._moduleId = this._properties.ModuleId;\r\n        this._userId = this._properties.UserId;\r\n        // Check if DNN Services framework exists.\r\n        if (window.$ && window.$.ServicesFramework) {\r\n \r\n            // Run timer till sf is ready, but max for a second.\r\n            const t = timer(0, 100)\r\n                .pipe(take(10))\r\n                .subscribe(x => {\r\n\r\n                    // This must be accessed after a delay, as the SF is not ready yet.\r\n                    const sf = window.$.ServicesFramework();\r\n                    console.log('TCL: ----------------------------');\r\n                    console.log('TCL: autoConfigure -> sf', sf);\r\n                    console.log('TCL: ----------------------------');\r\n\r\n                    // Check if sf is initialized.\r\n                    if (sf.getAntiForgeryValue() && sf.getTabId() !== -1) {\r\n                        t.unsubscribe();\r\n                        this.tidSubject.next(sf.getTabId());\r\n                        this.afTokenSubject.next(sf.getAntiForgeryValue());\r\n                    } else {\r\n                        // Must reset, as they are incorrectly initialized when accessed early.\r\n                        if (window.dnn && window.dnn.vars && window.dnn.vars.length === 0) {\r\n                            window.dnn.vars = null;\r\n                        }\r\n                    }\r\n                });\r\n            return;\r\n        }\r\n\r\n        if (!this.devSettings.ignoreMissingServicesFramework) {\r\n            throw new Error(`\r\n                DNN Services Framework is missing, and it\\'s not allowed according to devSettings.\r\n                Either set devSettings to ignore this, or ensure it\\'s there`);\r\n        }\r\n\r\n        this.tidSubject.next(this.devSettings.tabId);\r\n        this.afTokenSubject.next(this.devSettings.antiForgeryToken);\r\n    }\r\n}","// This lets you configure test-values during development.\r\nimport { ContextInfo } from './context-info';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class DevContext implements ContextInfo {\r\n    ignoreMissing$2sxc = false;\r\n    ignoreMissingServicesFramework = false;\r\n    forceUse: boolean = false;\r\n\r\n    moduleId: number = 0;\r\n    tabId: number = 0;\r\n\r\n    contentBlockId: number;\r\n    antiForgeryToken: 'ThisIsaTestAntiForgeryToken';\r\n    sxc: null;\r\n    path: string = '/';\r\n}","import { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Context } from './DNN/context.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DemoService {\r\n  private _routingWebAPI: string;\r\n  private demorouting: string;\r\n\r\n  constructor(private context: Context, private http: HttpClient) {\r\n    this._routingWebAPI = \"/DesktopModules/Angular6Demo/API/\"\r\n    // this._routingWebAPI = this.context._properties.routingWebAPI;\r\n  }\r\n\r\n  public getStagingOutputList(): Observable<any> {\r\n    let webAPIName = \"item/HelloWorld\";\r\n    let getUrl = this._routingWebAPI + webAPIName;\r\n    console.log('​---------------------------------');\r\n    console.log('​StagingService -> getUrl', getUrl);\r\n    console.log('​---------------------------------');\r\n    return this.http.get<any>(getUrl)\r\n  }\r\n}\r\n","module.exports = \"\"","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\r\\n<div style=\\\"text-align:center\\\">\\r\\n  <h1>\\r\\n    Welcome to {{ title }}!\\r\\n  </h1>\\r\\n  <img width=\\\"300\\\" alt=\\\"Angular Logo\\\" src=\\\"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg==\\\">\\r\\n</div>\\r\\n\\r\\n<div>\\r\\n  context._moduleId: {{ context._moduleId }}<br/> \\r\\n  context._properties.routingWebAPI: {{ context._properties.routingWebAPI }}<br/>  \\r\\n  context._properties.IsEditable: {{ context._properties.IsEditable }}<br/> \\r\\n  context._properties.EditMode: {{ context._properties.EditMode }}<br/> \\r\\n  context._properties.ModuleId: {{ context._properties.ModuleId }}<br/> \\r\\n  context._properties.PortalId: {{ context._properties.PortalId }}<br/> \\r\\n  context._properties.UserId: {{ context._properties.UserId }}<br/> \\r\\n  context._properties.CurrentLanguage: {{ context._properties.CurrentLanguage }}<br/> \\r\\n  context._properties.TabId: {{ context._properties.TabId }}<br/> \\r\\n  context._properties.PortalLanguages: {{ context._properties.PortalLanguages }}<br/> \\r\\n  context._properties.CurrentLanguage: {{ context._properties.CurrentLanguage }}<br/>\\r\\n  context._properties.Resources: {{ log(context._properties.Resources) }}<br/>\\r\\n  context._properties.Resources[0]: {{context._properties.Resources.AddItem_Text}}<br/>\\r\\n  antiForgeryToken: (see console log)<br/>\\r\\n  <div>\\r\\n    <button type=\\\"button\\\" (click)=\\\"getDataFromWebAPI()\\\">call DNN webapi</button>\\r\\n    webapi return: {{webapiResult}}\\r\\n  </div>\\r\\n</div>\"","import { Component } from '@angular/core';\r\nimport { DemoService } from '../Service/demo.service';\r\nimport { HttpErrorResponse } from '@angular/common/http';\r\nimport { Context } from '../Service/DNN/context.service';\r\nimport { take, mergeMap } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'template Angular for DNN7-DNN8-DNN9';\r\n  webapiResult = '';\r\n\r\n  constructor(public context: Context, private _demoService: DemoService) {\r\n    context.autoConfigure();\r\n  }\r\n\r\n  private getDataFromWebAPI() {\r\n    this._demoService.getStagingOutputList().subscribe(data => {\r\n      this.webapiResult = data;\r\n      console.log('​---------------------------------');\r\n      console.log('Call webapi data -> data: ', data);\r\n      console.log('​---------------------------------');\r\n    },\r\n      (err: HttpErrorResponse) => {\r\n        if (err.error instanceof Error) {\r\n          console.log('​---------------------------------');\r\n          console.log('Call webapi error -> ERROR: ', err.error);\r\n          console.log('​---------------------------------');\r\n        } else {\r\n          console.log('​---------------------------------');\r\n          console.log('Call webapi error -> ERROR: ', err.error);\r\n          console.log('​---------------------------------');\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  log(par: any): string{\r\n    return JSON.stringify(par).toString();\r\n  }\r\n}\r\n\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { HTTP_INTERCEPTORS, HttpClientModule } from '@angular/common/http';\r\nimport { Interceptor } from '../Http/interceptor';\r\nimport { DemoService } from '../Service/demo.service';\r\nimport { Context } from '../Service/DNN/context.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule, // important - this changed in Angular 4.3 \r\n  ],\r\n  providers: [    \r\n    Context,\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: Interceptor,\r\n      multi: true\r\n    },\r\n    DemoService\r\n    ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * In development mode, to ignore zone related error stack frames such as\r\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\r\n * import the following file, but please comment it out in production mode\r\n * because it will have performance impact when throw error\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n"],"sourceRoot":""}